<template>

    <div
        style="height: 100vh"
        class="nav_left_ai"
    >

        <client-only>
            <a-menu
                :default-selected-keys="['0_1']"
                :collapsed-width="60"
                class="ai_nav_menu"
                :collapsed="collapsed"
                show-collapse-button
                :default-collapsed="true"
                @collapse="onCollapse"
            >
              <template #collapse-icon>
                <svg v-if="collapsed" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="arco-icon arco-icon-right" stroke-width="4" stroke-linecap="butt" stroke-linejoin="miter"><path d="m16 39.513 15.556-15.557L16 8.4"></path></svg>
                <svg v-else viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="arco-icon arco-icon-left" stroke-width="4" stroke-linecap="butt" stroke-linejoin="miter"><path d="M32 8.4 16.444 23.956 32 39.513"></path></svg>
              </template>
              <div class="logo">
                <NuxtLink to="/" title="Postman" class="brand">
                  <img :src="counter.setting.logo" alt="logo">
                </NuxtLink>
              </div>
              <div class="ai_menu flex flex-column justify-content-between align-content-between" style="height: 90%">
                    <div class="ai_menu_app w-full">
                        <NuxtLink data-toggle="pill" to="/work" role="tab" v-if="navArray.indexOf('work') !== -1">
                            <a-menu-item key="0_0">
                                <template #icon>
                                    <svg t="1690201557844" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22750" width="32" height="32"><path d="M221.44 334.592c-8.96 17.92 0 45.056 17.92 54.016l233.984 134.912v206.848c0 17.92 17.92 36.096 36.096 36.096 17.92 0 36.096-17.92 36.096-36.096v-206.848l233.984-134.912c17.92-8.96 26.88-36.096 17.92-54.016-8.96-17.92-36.096-26.88-54.016-17.92L509.44 460.544l-233.984-143.872c-18.176-8.96-45.056 0-54.016 17.92z" p-id="22751" fill="#333333"></path><path d="M509.184 1008.384c-27.392 0-54.528-7.168-78.336-20.992L138.752 818.688c-48.384-27.904-78.336-80.128-78.336-135.936V345.6c0-55.808 29.952-108.032 78.336-135.936L430.848 40.96c23.808-13.824 50.944-20.992 78.336-20.992 27.392 0 54.528 7.168 78.336 20.992l292.096 168.704c48.384 27.904 78.336 80.128 78.336 135.936v337.152c0 55.808-29.952 108.032-78.336 135.936l-292.096 168.704c-23.552 13.568-50.688 20.992-78.336 20.992z m0-924.16c-16.384 0-32.256 4.352-46.336 12.544L170.752 265.216c-28.672 16.64-46.336 47.36-46.336 80.384v337.152c0 33.024 17.92 64 46.336 80.384L462.848 931.84c14.08 8.192 30.208 12.544 46.336 12.544 16.384 0 32.256-4.352 46.336-12.544l292.096-168.704c28.672-16.64 46.336-47.36 46.336-80.384V345.6c0-33.024-17.92-64-46.336-80.384l-291.84-168.704c-14.08-7.936-30.208-12.288-46.592-12.288z" fill="#333333" p-id="22752"></path></svg>
                                </template>

                                工作台
                            </a-menu-item>
                        </NuxtLink>
                        <NuxtLink data-toggle="pill" to="/ai_chat" role="tab" v-if="navArray.indexOf('ai_chat') !== -1">
                            <a-menu-item key="0_1">
                                <template #icon>
                                    <svg t="1685290022246" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1"
                                         xmlns="http://www.w3.org/2000/svg" p-id="3074" width="32" height="32">
                                        <path
                                            d="M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667c-7.146667 0-14.250667-0.170667-21.333333-0.533334V938.666667H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333334V533.333333h0.533334A433.749333 433.749333 0 0 1 85.333333 512C85.333333 276.352 276.352 85.333333 512 85.333333z m0 64C311.701333 149.333333 149.333333 311.701333 149.333333 512c0 6.08 0.149333 12.16 0.426667 18.197333 0.149333 2.538667 0.128 5.034667-0.042667 7.509334l-0.384 3.84V853.333333a21.333333 21.333333 0 0 0 18.837334 21.184L170.666667 874.666667h311.722666a65.706667 65.706667 0 0 1 7.616-0.512l3.84 0.064c6.016 0.298667 12.074667 0.448 18.154667 0.448 200.298667 0 362.666667-162.368 362.666667-362.666667 0-197.973333-158.656-358.933333-355.776-362.602667L512 149.333333z m-192 341.333334a42.666667 42.666667 0 1 1 0 85.333333 42.666667 42.666667 0 0 1 0-85.333333z m192 0a42.666667 42.666667 0 1 1 0 85.333333 42.666667 42.666667 0 0 1 0-85.333333z m192 0a42.666667 42.666667 0 1 1 0 85.333333 42.666667 42.666667 0 0 1 0-85.333333z"
                                            fill="#333333" p-id="3075"></path>
                                    </svg>
                                </template>

                                AI问答
                            </a-menu-item>
                        </NuxtLink>


                        <NuxtLink data-toggle="pill" to="/ai_draw" role="tab" v-if="navArray.indexOf('ai_draw') !== -1">
                            <a-menu-item key="0_2">
                                <template #icon>
                                    <svg t="1685290054006" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1"
                                         xmlns="http://www.w3.org/2000/svg" p-id="3342" width="26" height="26">
                                        <path
                                            d="M618.666667 170.666667a32 32 0 0 1 3.072 63.850666L618.666667 234.666667H202.666667a53.333333 53.333333 0 0 0-53.226667 49.834666L149.333333 288.021333v448c0 8.533333 2.005333 16.64 5.589334 23.808l174.442666-174.442666a32 32 0 0 1 42.837334-2.197334l2.432 2.197334 85.312 85.333333 169.450666-150.613333a32 32 0 0 1 40.170667-1.92l2.474667 2.005333 2.304 2.304 199.936 219.946667 0.277333-3.2 0.106667-3.221334V490.666667l0.149333-3.072a32 32 0 0 1 63.701333 0L938.666667 490.666667v245.333333a117.333333 117.333333 0 0 1-112.618667 117.248l-4.714667 0.106667h-618.666666a117.333333 117.333333 0 0 1-117.248-112.64L85.333333 736.042667v-448a117.333333 117.333333 0 0 1 112.618667-117.248l4.714667-0.085334L618.666667 170.666667z m29.610666 418.282666l-142.997333 127.104 61.354667 61.333334c3.477333 3.498667 5.994667 7.594667 7.552 11.968H821.333333c2.88 0 5.717333-0.234667 8.490667-0.682667l-181.546667-199.722667zM352 653.269333L215.893333 789.333333h272.192L352 653.226667zM341.333333 298.666667a106.666667 106.666667 0 1 1 0 213.333333 106.666667 106.666667 0 0 1 0-213.333333zM789.333333 170.666667a32 32 0 0 1 32 32v85.312l85.333334 0.021333a32 32 0 0 1 0 64l-85.354667-0.021333 0.021333 85.354666a32 32 0 0 1-64 0l-0.021333-85.354666-85.312 0.021333a32 32 0 0 1 0-64l85.333333-0.021333V202.666667A32 32 0 0 1 789.333333 170.666667z m-448 192a42.666667 42.666667 0 1 0 0 85.333333 42.666667 42.666667 0 0 0 0-85.333333z"
                                            fill="#333333" p-id="3343"></path>
                                    </svg>

                                </template>
                                AI绘画
                            </a-menu-item>
                        </NuxtLink>
                        <NuxtLink data-toggle="pill" to="/ai_draw_group" role="tab" v-if="navArray.indexOf('ai_draw_group') !== -1">
                            <a-menu-item key="0_3">
                                <template #icon>
                                    <svg t="1688800888610" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="40316" width="32" height="32"><path d="M827.733333 546.133333c-8.533333 4.266667-17.066667 10.666667-25.6 14.933334-14.933333 138.666667-134.4 247.466667-279.466666 247.466666-72.533333 0-138.666667-27.733333-187.733334-72.533333-25.6 6.4-51.2 10.666667-76.8 12.8 64 74.666667 157.866667 121.6 264.533334 121.6 189.866667 0 345.6-153.6 345.6-339.2v-10.666667c-4.266667 4.266667-10.666667 6.4-14.933334 10.666667-10.666667 6.4-19.2 10.666667-25.6 14.933333z" fill="#333333" p-id="40317"></path><path d="M1011.2 324.266667c-27.733333-74.666667-157.866667-70.4-268.8-51.2 21.333333 17.066667 38.4 36.266667 55.466667 57.6 104.533333-12.8 149.333333 4.266667 153.6 17.066666 4.266667 10.666667-14.933333 49.066667-93.866667 106.666667-12.8 8.533333-25.6 17.066667-40.533333 27.733333-6.4 4.266667-10.666667 6.4-17.066667 10.666667-2.133333 0-2.133333 2.133333-4.266667 2.133333-70.4 42.666667-155.733333 81.066667-245.333333 115.2-104.533333 38.4-192 61.866667-264.533333 74.666667-25.6 4.266667-49.066667 6.4-68.266667 8.533333-85.333333 8.533333-136.533333-2.133333-140.8-17.066666-4.266667-10.666667 17.066667-53.333333 102.4-113.066667 0-8.533333-2.133333-19.2-2.133333-27.733333 0-17.066667 2.133333-34.133333 4.266666-51.2-91.733333 55.466667-194.133333 138.666667-166.4 213.333333 17.066667 44.8 72.533333 64 151.466667 64 27.733333 0 59.733333-2.133333 91.733333-6.4 23.466667-4.266667 51.2-8.533333 76.8-12.8 76.8-17.066667 160-40.533333 238.933334-70.4 83.2-32 162.133333-66.133333 230.4-104.533333 8.533333-4.266667 17.066667-10.666667 25.6-14.933334 8.533333-4.266667 14.933333-8.533333 23.466666-14.933333 4.266667-4.266667 10.666667-6.4 14.933334-10.666667 81.066667-59.733333 168.533333-134.4 142.933333-202.666666z" fill="#333333" p-id="40318"></path><path d="M795.733333 328.533333c-17.066667-21.333333-34.133333-40.533333-55.466666-57.6C682.666667 221.866667 605.866667 192 520.533333 192c-172.8 0-315.733333 125.866667-341.333333 290.133333-2.133333 17.066667-4.266667 34.133333-4.266667 51.2 0 8.533333 0 19.2 2.133334 27.733334 4.266667 46.933333 17.066667 91.733333 38.4 130.133333 21.333333-2.133333 44.8-4.266667 68.266666-8.533333-27.733333-42.666667-44.8-93.866667-44.8-149.333334 0-151.466667 125.866667-275.2 281.6-275.2 140.8 0 256 100.266667 277.333334 232.533334 6.4-4.266667 12.8-6.4 17.066666-10.666667 14.933333-8.533333 27.733333-19.2 40.533334-27.733333-10.666667-44.8-32-87.466667-59.733334-123.733334z" fill="#333333" p-id="40319"></path></svg>

                                </template>
                                AI绘画广场
                            </a-menu-item>
                        </NuxtLink>

                        <NuxtLink data-toggle="pill" to="/ai_application" role="tab" v-if="navArray.indexOf('ai_application') !== -1">
                            <a-menu-item key="0_4">
                                <template #icon>
                                    <svg t="1685290097267" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3556" width="26" height="26"><path d="M384 554.666667a85.333333 85.333333 0 0 1 85.333333 85.333333v170.666667a85.333333 85.333333 0 0 1-85.333333 85.333333h-170.666667a85.333333 85.333333 0 0 1-85.333333-85.333333v-170.666667a85.333333 85.333333 0 0 1 85.333333-85.333333h170.666667z m245.333333 213.333333a32 32 0 0 1 32 32v42.666667a32 32 0 0 1-64 0v-42.666667a32 32 0 0 1 32-32z m192-21.333333a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32zM384 618.666667h-170.666667a21.333333 21.333333 0 0 0-21.184 18.837333L192 640v170.666667a21.333333 21.333333 0 0 0 18.837333 21.184L213.333333 832h170.666667a21.333333 21.333333 0 0 0 21.184-18.837333L405.333333 810.666667v-170.666667a21.333333 21.333333 0 0 0-18.837333-21.184L384 618.666667z m245.333333-42.666667a32 32 0 0 1 32 32v85.333333a32 32 0 0 1-64 0v-85.333333a32 32 0 0 1 32-32z m192 0a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32zM384 128a85.333333 85.333333 0 0 1 85.333333 85.333333v170.666667a85.333333 85.333333 0 0 1-85.333333 85.333333h-170.666667a85.333333 85.333333 0 0 1-85.333333-85.333333v-170.666667a85.333333 85.333333 0 0 1 85.333333-85.333333h170.666667z m426.666667 0a85.333333 85.333333 0 0 1 85.333333 85.333333v170.666667a85.333333 85.333333 0 0 1-85.333333 85.333333h-170.666667a85.333333 85.333333 0 0 1-85.333333-85.333333v-170.666667a85.333333 85.333333 0 0 1 85.333333-85.333333h170.666667zM384 192h-170.666667a21.333333 21.333333 0 0 0-21.184 18.837333L192 213.333333v170.666667a21.333333 21.333333 0 0 0 18.837333 21.184L213.333333 405.333333h170.666667a21.333333 21.333333 0 0 0 21.184-18.837333L405.333333 384v-170.666667a21.333333 21.333333 0 0 0-18.837333-21.184L384 192z m426.666667 0h-170.666667a21.333333 21.333333 0 0 0-21.184 18.837333L618.666667 213.333333v170.666667a21.333333 21.333333 0 0 0 18.837333 21.184L640 405.333333h170.666667a21.333333 21.333333 0 0 0 21.184-18.837333L832 384v-170.666667a21.333333 21.333333 0 0 0-18.837333-21.184L810.666667 192z" fill="#333333" p-id="3557"></path></svg>
                                </template>
                                AI小应用
                            </a-menu-item>
                        </NuxtLink>
                        <NuxtLink data-toggle="pill" to="/mark_me" role="tab" v-if="navArray.indexOf('mark_me') !== -1">
                            <a-menu-item key="0_5">
                                <template #icon>
                                    <svg t="1688800387562" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15326" width="32" height="32"><path d="M440.58 306.25c53.89-31.43 120.55-47.71 198.27-48.45a104.23 104.23 0 0 0 100.5 77.08h120.33a104.18 104.18 0 0 0 104.06-104.06v-30.18A104.18 104.18 0 0 0 859.68 96.57H739.35A104.24 104.24 0 0 0 637 181.81c-90.63 1-169.53 20.77-234.71 58.8-58.25 34-103.13 81.88-131 139.43H167.87A104.18 104.18 0 0 0 63.81 484.1v64.45a104.18 104.18 0 0 0 104.06 104.07h93.06a298.47 298.47 0 0 0 39.35 73c22.05 29.89 49.92 55.55 82.82 76.26 66.78 42 154.22 63.93 260 65.15a104.19 104.19 0 0 0 93.45 58.32h120.37A104.18 104.18 0 0 0 961 821.28V791.1A104.18 104.18 0 0 0 856.92 687H736.59a104.19 104.19 0 0 0-104.06 103.8c-144.34-4-242.85-51.34-288.55-138.22a104.21 104.21 0 0 0 101.2-95.07h191.5a104.24 104.24 0 0 0 99.2 72.6H856.2a104.18 104.18 0 0 0 104.07-104.06v-30.18A104.19 104.19 0 0 0 856.2 391.8H735.88a104.23 104.23 0 0 0-103.07 89.71H445.53a104.23 104.23 0 0 0-87.25-100.11c20.79-29.99 48.62-55.5 82.3-75.15z m270.71-105.61a28.1 28.1 0 0 1 28.06-28.07h120.33a28.1 28.1 0 0 1 28.06 28.07v30.18a28.09 28.09 0 0 1-28.06 28.06H739.35a28.09 28.09 0 0 1-28.06-28.06z m-2.76 590.46a28.1 28.1 0 0 1 28.06-28.1h120.33A28.1 28.1 0 0 1 885 791.1v30.18a28.09 28.09 0 0 1-28.06 28.06H736.59a28.09 28.09 0 0 1-28.06-28.06z m-0.71-295.23a28.09 28.09 0 0 1 28.06-28.07H856.2a28.1 28.1 0 0 1 28.07 28.07v30.18a28.1 28.1 0 0 1-28.07 28.06H735.88a28.09 28.09 0 0 1-28.06-28.06zM369.56 484.1v64.45a28.09 28.09 0 0 1-28.06 28.07H167.87a28.1 28.1 0 0 1-28.06-28.07V484.1a28.09 28.09 0 0 1 28.06-28.1H341.5a28.09 28.09 0 0 1 28.06 28.1z" fill="#333333" p-id="15327"></path></svg>

                                </template>
                                思维导图
                            </a-menu-item>
                        </NuxtLink>
                        <NuxtLink data-toggle="pill" to="/pdf_generate" role="tab" v-if="navArray.indexOf('pdf_generate') !== -1">
                            <a-menu-item key="0_6">
                                <template #icon>
                                    <svg t="1688025512272" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6950" width="48" height="48"><path d="M650.666667 277.333333h-405.333334A53.333333 53.333333 0 0 0 192 330.666667v490.666666a53.333333 53.333333 0 0 0 53.333333 53.333334h405.333334a53.333333 53.333333 0 0 0 53.333333-53.333334v-490.666666a53.333333 53.333333 0 0 0-53.333333-53.333334zM768 746.666667h10.666667a53.333333 53.333333 0 0 0 53.226666-49.834667L832 693.333333v-490.666666a53.333333 53.333333 0 0 0-49.834667-53.226667L778.666667 149.333333h-405.333334a53.333333 53.333333 0 0 0-53.226666 49.834667L320 202.666667v10.666666h330.666667a117.333333 117.333333 0 0 1 117.333333 117.333334V746.666667z m-181.333333-106.666667a32 32 0 0 1 0 64h-277.333334a32 32 0 0 1 0-64h277.333334z m0-192a32 32 0 0 1 0 64h-277.333334a32 32 0 0 1 0-64h277.333334zM768 821.333333a117.333333 117.333333 0 0 1-117.333333 117.333334h-405.333334A117.333333 117.333333 0 0 1 128 821.333333v-490.666666a117.333333 117.333333 0 0 1 117.333333-117.333334h10.666667v-10.666666a117.333333 117.333333 0 0 1 112.618667-117.248L373.333333 85.333333h405.333334a117.333333 117.333333 0 0 1 117.248 112.618667L896 202.666667v490.666666a117.333333 117.333333 0 0 1-112.618667 117.248L778.666667 810.666667H768z" fill="#333333" p-id="6951"></path></svg>

                                </template>
                                PDF分析
                            </a-menu-item>
                        </NuxtLink>
                        <NuxtLink data-toggle="pill" to="/ai_write" role="tab" v-if="navArray.indexOf('ai_write') !== -1">
                            <a-menu-item key="0_7">
                                <template #icon>
                                    <svg t="1688397594731" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6953" width="48" height="48"><path d="M864 832a32 32 0 0 1 0 64h-704a32 32 0 0 1 0-64h704zM710.613333 152.533333l3.541334 3.413334 89.92 89.898666a95.36 95.36 0 0 1 3.370666 131.285334l-3.370666 3.562666-332.309334 332.309334c-9.386667 9.386667-21.077333 16.042667-33.856 19.349333l-4.842666 1.088-178.261334 33.642667a52.970667 52.970667 0 0 1-62.464-57.984l0.576-3.904L226.56 526.933333c2.453333-13.013333 8.362667-25.130667 17.045333-35.072l3.392-3.626666L579.306667 155.946667a95.36 95.36 0 0 1 131.285333-3.370667z m-83.946666 46.165334l-2.410667 2.176-332.309333 332.309333a10.602667 10.602667 0 0 0-2.517334 3.989333l-0.405333 1.536-30.741333 162.986667 119.978666-22.634667-51.968-51.968a31.786667 31.786667 0 1 1 44.949334-44.949333l70.72 70.72 317.141333-317.12a31.786667 31.786667 0 0 0 2.197333-42.538667l-2.197333-2.410666-89.898667-89.92a31.786667 31.786667 0 0 0-42.538666-2.176z" fill="#333333" p-id="6954"></path></svg>
                                </template>
                                AI写作
                            </a-menu-item>
                        </NuxtLink>
                        <NuxtLink data-toggle="pill" to="/knowledge" role="tab" v-if="navArray.indexOf('knowledge') !== -1">
                            <a-menu-item key="0_12">
                                <template #icon>
                                    <svg t="1691737203972" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6997" width="32" height="32"><path d="M736 853.333333a32 32 0 0 1 0 64h-448a32 32 0 0 1 0-64h448z m106.666667-746.666666A96 96 0 0 1 938.666667 202.666667v469.333333a96 96 0 0 1-96 96h-661.333334A96 96 0 0 1 85.333333 672v-469.333333A96 96 0 0 1 181.333333 106.666667z m0 64h-661.333334A32 32 0 0 0 149.333333 202.666667v469.333333A32 32 0 0 0 181.333333 704h661.333334a32 32 0 0 0 32-32v-469.333333A32 32 0 0 0 842.666667 170.666667z m-84.053334 179.968a31.786667 31.786667 0 0 1 2.24 42.666666l-2.197333 2.410667-149.888 149.589333c-11.754667 11.733333-30.378667 12.437333-42.965333 2.133334l-2.410667-2.197334-126.464-126.848-126.293333 126.037334a32.106667 32.106667 0 0 1-42.794667 2.24l-2.453333-2.197334a31.786667 31.786667 0 0 1-2.24-42.645333l2.197333-2.410667 149.013333-148.714666a32.106667 32.106667 0 0 1 42.944-2.133334l2.432 2.197334 126.442667 126.826666 127.168-126.890666a32.085333 32.085333 0 0 1 45.269333-0.064z" fill="#333333" p-id="6998"></path></svg>
                                </template>
                                知识库
                            </a-menu-item>
                        </NuxtLink>
                      <NuxtLink data-toggle="pill" to="/suno_music" role="tab" v-if="navArray.indexOf('music') !== -1">
                        <a-menu-item key="0_25">
                          <template #icon>
                            <svg t="1717158879322" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8745" width="32" height="32"><path d="M875.008 295.424a34.133333 34.133333 0 1 0-58.197333 35.669333c35.328 57.514667 53.930667 123.562667 53.930666 191.488 0 201.898667-164.352 366.250667-366.250666 366.250667S138.24 724.48 138.24 522.581333 302.592 156.330667 504.490667 156.330667c18.773333 0 34.133333-15.36 34.133333-34.133334s-15.36-34.133333-34.133333-34.133333C264.874667 88.064 69.973333 282.965333 69.973333 522.581333s194.901333 434.517333 434.517334 434.517334 434.517333-194.901333 434.517333-434.517334c0.170667-80.384-22.016-159.061333-64-227.157333z" fill="#231815" p-id="8746"></path><path d="M501.248 389.973333c-77.653333 0-140.8 63.146667-140.8 140.8s63.146667 140.8 140.8 140.8 140.8-63.146667 140.8-140.8V224.256c0-19.456 15.872-35.328 35.328-35.328 19.456 0 35.328 15.872 35.328 35.328 0 18.773333 15.36 34.133333 34.133333 34.133333s34.133333-15.36 34.133334-34.133333c0-57.173333-46.421333-103.594667-103.594667-103.594667s-103.594667 46.421333-103.594667 103.594667v186.026667a140.526933 140.526933 0 0 0-72.533333-20.309334z m0 213.333334a72.704 72.704 0 0 1-72.533333-72.533334 72.704 72.704 0 0 1 72.533333-72.533333 72.704 72.704 0 0 1 72.533333 72.533333 72.704 72.704 0 0 1-72.533333 72.533334z" fill="#231815" p-id="8747"></path></svg>
                          </template>
                          AI音乐
                        </a-menu-item>
                      </NuxtLink>
                      <NuxtLink data-toggle="pill" to="/ai_ppt" role="tab" v-if="navArray.indexOf('ppt') !== -1">
                        <a-menu-item key="0_26">
                          <template #icon>
                            <svg t="1719213821067" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16855" width="64" height="64"><path d="M849.92 931.84H184.32c-47.99488 0-87.04-39.04512-87.04-87.04V179.2c0-47.99488 39.04512-87.04 87.04-87.04h665.6c47.99488 0 87.04 39.04512 87.04 87.04v665.6c0 47.99488-39.04512 87.04-87.04 87.04zM184.32 143.36c-19.7632 0-35.84 16.0768-35.84 35.84v665.6c0 19.75808 16.0768 35.84 35.84 35.84h665.6c19.75808 0 35.84-16.08192 35.84-35.84V179.2c0-19.7632-16.08192-35.84-35.84-35.84H184.32z" fill="#515151" p-id="16856"></path><path d="M473.10848 580.43904v144.91648H384.54784V309.66784h143.03744c103.40352 0 155.1104 43.83744 155.1104 131.49696 0 42.57792-15.61088 76.70272-46.82752 102.37952s-70.26688 37.96992-117.13536 36.89472h-45.62432z m0-202.07104v134.17984H511.488c52.06016 0 78.09024-22.6304 78.09024-67.8912 0-44.1856-25.75872-66.28352-77.2864-66.28352h-39.18336z" fill="#515151" p-id="16857"></path></svg>
                          </template>
                          AIPPT
                        </a-menu-item>
                      </NuxtLink>
                      <NuxtLink data-toggle="pill" to="/ai_video" role="tab" v-if="navArray.indexOf('video') !== -1">
                        <a-menu-item key="0_30">
                          <template #icon>
                            <svg t="1722582200451" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4446" width="64" height="64"><path d="M784 112H240C152 112 80 184 80 272v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zM144 720V304h736v416H144z m96-544h544c41.6 0 76.8 27.2 89.6 64H150.4c12.8-36.8 48-64 89.6-64z m544 672H240c-41.6 0-76.8-27.2-89.6-64h724.8c-14.4 36.8-49.6 64-91.2 64z" fill="#4A576A" p-id="4447"></path><path d="M628.8 457.6l-131.2-78.4c-9.6-6.4-20.8-9.6-33.6-9.6-35.2 0-64 28.8-64 64V592c0 11.2 3.2 22.4 9.6 33.6 8 14.4 22.4 25.6 40 28.8 4.8 1.6 11.2 1.6 16 1.6 11.2 0 22.4-3.2 33.6-9.6l131.2-78.4c9.6-4.8 16-12.8 22.4-22.4 16-30.4 6.4-70.4-24-88zM595.2 512L464 590.4V432l131.2 80z" fill="#4A576A" p-id="4448"></path></svg>
                          </template>
                          AI视频
                        </a-menu-item>
                      </NuxtLink>
                      <NuxtLink data-toggle="pill" to="/ai_tools" role="tab" v-if="navArray.indexOf('code') !== -1">
                        <a-menu-item key="0_19">
                          <template #icon>
                            <svg t="1710251317331" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22701" width="32" height="32"><path d="M824.2 209.9H668.6v-55.3c0-30.5-23.2-55.3-51.9-55.3H409.3c-28.6 0-51.9 24.8-51.9 55.3v55.3H201.8C144.5 209.9 98 259.5 98 320.6v498c0 61.1 46.5 110.7 103.7 110.7h622.5c57.3 0 103.7-49.6 103.7-110.7v-498c0.1-61.3-46.4-110.7-103.7-110.7z m-414.9-27.7c0-15.2 11.6-27.7 26-27.7h155.6c14.4 0 26 12.4 26 27.7v27.7H409.4v-27.7h-0.1z m466.8 636.4c0 30.5-23.2 55.3-51.9 55.3H201.8c-28.6 0-51.9-24.8-51.9-55.3V514.2h263c-2.2 8.9-3.6 18-3.6 27.7 0 61.1 46.5 110.7 103.8 110.7S616.8 603 616.8 541.9c0-9.6-1.5-18.7-3.7-27.7h263.1v304.4z m-415-276.7c0-10.2 2.8-19.5 7.2-27.7h89.4c4.4 8.1 7.2 17.6 7.2 27.7 0 30.5-23.2 55.3-51.9 55.3-28.6-0.1-51.9-24.9-51.9-55.3z m415-83.1H149.9V320.4c0-30.5 23.2-55.3 51.9-55.3h622.5c28.6 0 51.9 24.8 51.9 55.3v138.4z m0 0" p-id="22702"></path></svg>
                          </template>
                          AI工具箱
                        </a-menu-item>
                      </NuxtLink>
                      <NuxtLink data-toggle="pill" :to="m.target=='1'?m.go_url:'/model/'+m.other" :target="m.target=='1'?'_blank':''" role="tab" v-for="(m,m_index) in menu" :key="m_index">
                        <a-menu-item :key="'me_'+m.other">
                          <template #icon>
                            <div v-html="m.svg">
                            </div>
                          </template>
                          {{ m.title }}
                        </a-menu-item>
                      </NuxtLink>
                    </div>
                    <div class="ai_menu_me relative w-full pb-2">
                        <div class="theme_c">

                            <a-menu-item key="0_8" @click="change_theme('light')" v-if="colorMode.preference=='system'">
                                <template #icon>
                                    <svg t="1685290557351" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1735" width="26" height="26"><path d="M512 819.4c-63.8 0-127.6-24.4-176-72.8-97.2-97.2-97.2-255 0-352.4 47.2-47.2 109.8-72.8 176-72.8s129.2 26 176 72.8c97.2 97.2 97.2 255 0 352.4-48.4 48.4-112.2 72.8-176 72.8z m0-435.6c-49.6 0-96.8 19.4-132 54.6-72.8 72.8-72.8 191.2 0 264.2 72.8 72.8 191.2 72.4 264.2 0 72.8-72.8 72.8-191.2 0-264.2-35.2-35.2-82.4-54.6-132.2-54.6z" p-id="1736"></path><path d="M446.2 667.4c-7.8 0-16.2-2.8-22-9.2-12-12-12-31.8 0-44.2l65.8-65.8c12-12 31.8-12 44.2 0 12 12 12 31.8 0 44.2l-65.8 65.8c-6.4 6.4-14.4 9.2-22.2 9.2zM793.2 326.2c-10 0-19-3.8-26-10.8-14.4-14.4-14.4-38 0-52.2 7-7 16.2-10.8 26-10.8 10 0 19 3.8 26 10.8 7 7 10.8 16.2 10.8 26s-3.8 19-10.8 26c-6.6 7.4-16.2 11-26 11z m-3-40v6.2c0.8 0.8 2 1.2 3.4 1.2 5-2.8 5-5.8 2.8-7.4h-6.2z" p-id="1737"></path><path d="M793.2 336.6c-12.8 0-24.4-5-33.6-14-18.2-18.2-18.2-48.4 0-67 9.2-9.2 20.8-13.6 33.6-13.6s24.4 5 33.6 14c9.2 9.2 13.6 20.8 13.6 33.6s-5 24.4-14 33.6c-8.4 8.4-20.4 13.4-33.2 13.4z m-10.4-36.8c2.8 2.8 6.6 4.2 10.4 4.2 3.8 0 7.4-1.6 10.4-4.2 5.8-5.8 5.8-15 0-20.8-5.4-5.4-15.4-5.4-20.8 0-2.4 2.4-4.2 6.2-4.2 10.4 0 3.8 1.2 7.4 4.2 10.4zM230.8 888.4c-9.6 0-19-3.8-26-10.8-7-7-10.8-16.6-10.8-26 0-10 3.8-19 10.8-26 7-7 16.2-10.8 26-10.8 10 0 19 3.8 26 10.8 14.4 14.4 14.4 38 0 52.2-6.8 7-16.4 10.6-26 10.6z m-0.8-40.8c-0.8 0-1.6 0.4-2.4 1.2-1.6 1.6-1.6 4.6 0 6.2 0.8 0.8 2 1.2 2.8 1.2l4.2-4.2c-1.2-3.6-2.8-4.4-4.6-4.4z" p-id="1738"></path><path d="M231 898.8c-12 0-24.4-4.6-33.6-13.6-9.2-9.2-14-21.2-14-33.6 0-12.8 5-24.4 14-33.6 8.6-8.6 20.8-13.6 33.6-13.6s24.4 5 33.6 14a47.2 47.2 0 0 1 0 67c-9.2 8.8-21.6 13.4-33.6 13.4z m0-62c-3.8 0-7.4 1.2-10.4 4.2-5.8 5.8-5.8 15 0 20.8 2.8 2.8 6.6 4.2 10.4 4.2s7.8-1.6 10.4-4.6c2.4-2.4 4.2-6.2 4.2-10.4 0-3.8-1.6-7.8-4.2-10.4-3-2.2-6.8-3.8-10.4-3.8zM909.4 607.4c-9.6 0-19-3.8-26-10.8-14.4-14.4-14.4-38 0-52.6 7-7 16.6-8.6 26-10.8 10 0 19 3.8 26 10.8 14.4 14.4 14.4 38 0 52.6-7 7-16.4 10.8-26 10.8z m-2.8-34c0.8 0.8 2 1.2 3.4 1.2 4.6-2.8 4.6-5.8 2.8-7.4-1.6-1.6-4.6-1.6-6.2 0-1.8 1.6-1.8 4.6 0 6.2z" p-id="1739"></path><path d="M909.4 617.8c-12 0-24.4-4.6-33.6-13.6a47.2 47.2 0 0 1 0-67c9.2-9.2 20.8-14 33.6-14s24.4 5 33.6 14a47.2 47.2 0 0 1 0 67c-9 9-21 13.6-33.6 13.6z m-10.2-37c2.8 2.8 6.6 4.2 10.4 4.2s7.4-1.6 10.4-4.2c5.8-5.8 5.8-15 0-20.8-5.8-5.8-15-5.8-20.8 0-5.4 5.6-5.8 15 0 20.8zM114.6 607.4c-9.6 0-19-3.8-26-10.8-14.4-14.4-14.4-38 0-52.6 14.4-14.4 38-14.4 52.6 0 14.4 14.4 14.4 38 0 52.6-8 7-17.6 10.8-26.6 10.8z m-3.4-34c1.6 1.6 4.6 1.6 6.2 0 1.6-1.6 1.6-4.6 0-6.2-1.6-1.6-4.6-1.6-6.2 0-1.6 1.6-1.6 4.6 0 6.2z" p-id="1740"></path><path d="M114.6 617.8c-12 0-24.4-4.6-33.6-13.6a47.2 47.2 0 0 1 0-67c18.6-18.6 48.8-18.2 67 0a47.2 47.2 0 0 1 0 67c-9.4 9-21.4 13.6-33.4 13.6z m-10.8-37c5.8 5.8 15 5.8 20.8 0 5.8-5.8 5.8-15.4 0-20.8-5.8-5.8-15-5.8-20.8 0-5.4 5.6-5.4 15 0 20.8zM793.2 888.4c-9.6 0-19-3.8-26-10.8-14.4-14.4-14.4-38 0-52.6 14.4-14.4 38-14.4 52.6 0 7 7 10.8 16.2 10.8 26 0 10-3.8 19-10.8 26-7.6 7.8-17.2 11.4-26.6 11.4z m0-41.4c-1.2 0-2 0.4-2.8 1.2v6.2c1.6 1.6 4.6 1.6 6.2 0 1.6-1.6 1.6-4.6 0-6.2-1.4-0.6-2.2-1.2-3.4-1.2z" p-id="1741"></path><path d="M793.2 898.8c-12 0-24.4-4.6-33.6-13.6a47.2 47.2 0 0 1 0-67 47.2 47.2 0 0 1 67 0c9.2 9.2 14 20.8 14 33.6s-5 24.4-14 33.6c-9 8.8-21.4 13.4-33.4 13.4z m-10.4-36.8c5.8 5.8 15 5.8 20.8 0 5.8-5.8 5.8-15 0-20.8-5.8-5.8-15-5.8-20.8 0-2.8 2.8-4.2 6.6-4.2 10.4 0 3.8 1.2 7.4 4.2 10.4zM230.8 326.2c-10 0-19-3.8-26-10.8-7-7-10.8-16.2-10.8-26s3.8-19 10.8-26c7-7 16.2-10.8 26-10.8 10 0 19 3.8 26 10.8 14.4 14.4 14.4 38 0 52.6-6.8 6.6-16 10.2-26 10.2z m-3.2-33.8c0.8 0.8 2 1.2 2.8 1.2l4.2-4.2-4.2-4.2c-4.4 2.6-4.4 5.4-2.8 7.2z" p-id="1742"></path><path d="M230.8 336.6c-12.8 0-24.4-5-33.6-14-8.6-8.6-13.6-20.8-13.6-33.6s5-24.4 14-33.6c8.6-8.6 20.8-13.6 33.6-13.6s24.4 5 33.6 14c18.2 18.6 18.2 48.4 0 67-9.4 8.8-21 13.8-34 13.8z m-10.2-36.8c2.8 2.8 6.6 4.6 10.4 4.6 3.8 0 7.4-1.6 10.4-4.2 2.8-2.4 4.2-6.6 4.2-10.4 0-3.8-1.6-7.8-4.6-10.4-5-5.4-15.4-5.4-20.8 0-5.4 5-5.4 14.6 0.4 20.4zM512 210c-10 0-19-3.8-26-10.8-7-7-10.8-16.2-10.8-26 0-10 3.8-19 10.8-26 14.4-14.4 38-14.4 52.6 0 14.4 14.4 14.4 38 0 52.2-7.2 6.4-16.8 10.6-26.6 10.6z m2.8-40.2l-6.2 6.2c1.6 1.6 4.6 1.6 6.2 0v-6.2z m-5.8 0c-1.6 1.6-1.6 4.6 0 6.2l6.2-6.2h-6.2z" p-id="1743"></path><path d="M512 220.2c-12.8 0-24.4-5-33.6-14-8.6-8.6-13.6-20.8-13.6-33.6s5-24.4 14-33.6a47.2 47.2 0 0 1 67 0c18.2 18.6 18.2 48.4 0 67-9 9.4-21 14.2-33.8 14.2z m10.4-57.8l-20.8 20.8c5.8 5.8 15 5.8 20.8 0 2.8-2.8 4.2-6.6 4.2-10.4-0.2-3.8-1.4-7.6-4.2-10.4z m-10.4-4.2c-3.8 0-7.8 1.6-10.4 4.6-5.8 5.8-5.8 15 0 20.8l20.8-20.8c-2.6-3-6.4-4.6-10.4-4.6z" p-id="1744"></path></svg>

                                </template>
                                系统
                            </a-menu-item>
                            <a-menu-item key="0_8" @click="change_theme('dark')" v-if="colorMode.preference=='light'">
                                <template #icon>
                                    <svg t="1685290472155" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1521" width="26" height="26"><path d="M512.8 806.6c-162.2 0-293.8-131.8-293.8-293.8s131.8-293.8 293.8-293.8 293.8 131.8 293.8 293.8-131.6 293.8-293.8 293.8z m0-526.8c-128.4 0-233 104.6-233 233s104.6 233 233 233 233-104.6 233-233-104.6-233-233-233zM512.8 957c-22.2 0-40.6-16.6-40.6-39v-3.2c0-22.2 18.2-40.6 40.6-40.6s40.6 18.2 40.6 40.6-18.2 42.2-40.6 42.2z m289.4-114.2c-10.6 0-20.6-4-28.8-11.8l-5.2-5.2c-15.8-15.8-15.8-41.4 0-57.2 15.8-15.8 41.4-15.8 57.2 0l5.2 5.2c15.8 15.8 15.8 41.4 0 57.2-7.8 7.6-17.8 11.8-28.4 11.8z m-578.8 0c-10.6 0-20.6-4-28.8-11.8-15.8-15.8-15.8-41.4 0-57.2l5.2-5.2c15.8-15.8 41.4-15.8 57.2 0s15.8 41.4 0 57.2l-5.2 5.2c-7.6 7.6-18.2 11.8-28.4 11.8zM918 553.4h-3.2c-22.2 0-40.6-18.2-40.6-40.6s18.2-40.6 40.6-40.6 42.2 18.2 42.2 40.6-16.6 40.6-39 40.6z m-807.2 0h-3.2c-22.2 0-40.6-18.2-40.6-40.6s18.2-40.6 40.6-40.6 42.2 18.2 42.2 40.6-16.8 40.6-39 40.6z m686.2-284.2c-10.6 0-20.6-4-28.8-11.8-15.8-15.8-15.8-41.4 0-57.2l5.2-5.2c15.8-15.8 41.4-15.8 57.2 0s15.8 41.4 0 57.2l-5.2 5.2c-7.8 7.8-18 11.8-28.4 11.8z m-568.2 0c-10.6 0-20.6-4-28.8-11.8l-5.2-5.6c-15.8-15.8-15.8-41.4 0-57.2s41.4-15.8 57.2 0l5.2 5.2c15.8 15.8 15.8 41.4 0 57.2-7.8 8.2-18.4 12.2-28.4 12.2z m284-119.6c-22.2 0-40.6-16.6-40.6-39v-3.2c0-22.2 18.2-40.6 40.6-40.6s40.6 18.2 40.6 40.6-18.2 42.2-40.6 42.2z" p-id="1522"></path></svg>

                                </template>
                                白天
                            </a-menu-item>
                            <a-menu-item key="0_8" @click="change_theme('light')" v-if="colorMode.preference=='dark'">
                                <template #icon>
                                    <svg t="1685290466829" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9095" width="26" height="26"><path d="M544.2 957c-7 0-14 0-21.2-0.4C291.2 946.2 97.6 759.6 81.4 532c-14-195.4 99-378 281-454.4 51.8-21.6 79-5 90.6 7 11.6 11.6 27.8 38.4 6.2 87.8-19 43.8-28.6 90.6-28.2 138.6 0.8 183.4 153.2 339 339 346.4 27 1.2 53.4-0.8 79-5.4 54.6-10 77.4 12 86 26 8.6 14 18.6 44.2-14.4 89-87.6 120-227 190-376.4 190zM143 527.4c14 197 182.2 358.4 382.4 367.2 136.2 6.6 265.4-55.4 344.8-164 6.2-8.6 9.2-15 10.4-18.2-3.8-0.4-10.4-0.8-20.6 1.2-30.2 5.4-61.6 7.4-92.8 6.2-218.6-8.6-397.4-192-398.6-408.2 0-57.2 11.2-112.2 34-164 4.2-9.2 5-15.4 5.4-18.6-3.8 0-10.4 0.8-21.2 5.4-157.6 66.4-255.4 224.4-243.8 393z" p-id="9096"></path></svg>

                                </template>
                                黑夜
                            </a-menu-item>

                        </div>
                        <div class="me">
                          <div data-toggle="pill" @click="toggleChatSidebar()" role="tab">

                            <a-menu-item key="0_100">
                              <template #icon>
                                <svg t="1717090205020" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5669" width="128" height="128"><path d="M408.064 149.333333c115.989333 0 217.088 59.946667 267.434667 148.117334C813.098667 322.645333 917.333333 433.493333 917.333333 567.317333c0 72.746667-31.061333 140.8-84.864 191.509334l-2.090666 1.877333 13.610666 49.792c7.125333 26.112-7.744 52.906667-33.493333 61.461333l-3.264 0.981334a52.842667 52.842667 0 0 1-39.424-5.098667l-65.130667-36.906667-5.76 1.578667c-22.869333 5.824-46.528 9.173333-70.613333 9.898667l-10.368 0.170666c-115.989333 0-217.088-59.946667-267.456-148.138666a228.48 228.48 0 0 1-7.168-1.365334l-9.770667-2.176-7.466666-1.941333-65.066667 36.864a52.650667 52.650667 0 0 1-66.944-12.778667l-2.133333-2.922666-1.898667-2.965334a50.133333 50.133333 0 0 1-6.101333-34.730666l0.917333-3.925334 13.162667-48.32-1.642667-1.450666c-51.733333-47.466667-83.221333-110.784-87.253333-179.136l-0.341334-7.616L106.666667 424.597333C106.666667 272 242.133333 149.333333 408.064 149.333333z m207.872 203.904c-132.565333 0-239.04 96.426667-239.04 214.08 0 117.674667 106.474667 214.08 239.04 214.08 27.946667 0 55.210667-4.266667 80.938667-12.586666l13.226666-4.266667 67.157334 38.016-17.301334-63.36 15.573334-12.522667c50.346667-40.469333 79.445333-97.877333 79.445333-159.36 0-117.674667-106.496-214.08-239.04-214.08z m-207.872-142.72c-132.544 0-239.04 96.405333-239.04 214.08 0 60.16 27.882667 116.416 76.202667 156.693334l5.44 4.394666 15.914666 12.501334-17.024 62.357333 66.773334-37.802667 4.629333 1.450667a253.824 253.824 0 0 1-6.421333-56.874667c0-146.496 124.864-265.429333 281.685333-274.688-43.626667-49.92-111.530667-82.133333-188.16-82.133333z" fill="#333333" p-id="5670"></path></svg>
                              </template>
                              展开小对话
                            </a-menu-item>

                          </div>
                          <a-badge :count="is_notice>=1?1:0" :dot="is_notice>=1">
                            <NuxtLink v-if="token && counter.setting.left_menu_notice=='1'" data-toggle="pill" @click="user_notice_click()" role="tab">

                              <a-menu-item key="0_15">
                                <template #icon>
                                  <svg t="1699192590157" class="icon arco-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7311" width="26" height="26"><path d="M512 85.333333c58.901333 0 106.666667 49.322667 106.666667 110.165334 0 5.610667-0.426667 11.178667-1.216 16.64 114.133333 45.44 195.050667 162.496 195.050666 299.136v119.296l2.325334 0.853333a92.8 92.8 0 0 1 59.733333 82.197333l0.106667 4.352c0 51.2-41.749333 92.693333-93.248 92.693334h-141.802667c-5.013333 71.594667-60.245333 128-127.616 128-67.370667 0-122.602667-56.405333-127.616-128H242.56C191.082667 810.666667 149.333333 769.173333 149.333333 717.973333a92.736 92.736 0 0 1 59.84-86.570666l2.346667-0.832v-119.616l0.064-6.762667c2.730667-133.76 82.901333-247.424 195.008-292.010667A108.266667 108.266667 0 0 1 405.333333 195.498667C405.333333 134.656 453.098667 85.333333 512 85.333333z m68.224 725.333334h-136.448c4.778667 36.202667 33.493333 64 68.224 64 34.709333 0 63.445333-27.797333 68.224-64zM512 253.824c-129.088 0-235.392 111.445333-238.250667 251.328l-0.064 6.144v144.917333c0 17.066667-13.930667 30.890667-31.104 30.890667l-2.986666 0.149333a30.976 30.976 0 0 0-28.096 30.741334c0 17.066667 13.930667 30.890667 31.082666 30.890666H781.44c17.152 0 31.082667-13.824 31.082667-30.890666 0-17.066667-13.930667-30.890667-31.082667-30.890667l-2.986667-0.149333a30.976 30.976 0 0 1-28.117333-30.741334v-144.917333c0-142.698667-107.221333-257.493333-238.314667-257.493333z m0-95.04c-19.2 0-34.88 15.744-35.541333 35.434667a288.021333 288.021333 0 0 1 71.04 0l0.064 1.28c0-20.266667-15.936-36.693333-35.562667-36.693334z" fill="#333333" p-id="7312"></path></svg>

                                </template>
                                用户通知
                              </a-menu-item>

                            </NuxtLink>
                          </a-badge>
                          <NuxtLink v-if="token" to="/work_order" data-toggle="pill"  role="tab">

                            <a-menu-item key="0_16">
                              <template #icon>
                                <svg t="1710422766700" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26104" width="32" height="32"><path d="M634.88 555.90912H348.16c-16.7936 0-30.72-13.9264-30.72-30.72s13.9264-30.72 30.72-30.72h286.72c16.7936 0 30.72 13.9264 30.72 30.72s-13.9264 30.72-30.72 30.72zM527.5648 719.74912H348.16c-16.7936 0-30.72-13.9264-30.72-30.72s13.9264-30.72 30.72-30.72h179.4048c16.7936 0 30.72 13.9264 30.72 30.72s-13.9264 30.72-30.72 30.72zM593.92 301.95712h-163.84c-39.3216 0-112.64 0-112.64-112.64s73.3184-112.64 112.64-112.64h163.84c39.3216 0 112.64 0 112.64 112.64 0 39.3216 0 112.64-112.64 112.64z m-163.84-163.84c-40.5504 0-51.2 0-51.2 51.2s10.6496 51.2 51.2 51.2h163.84c51.2 0 51.2-10.6496 51.2-51.2 0-51.2-10.6496-51.2-51.2-51.2h-163.84z" fill="#515151" p-id="26105"></path><path d="M634.88 957.31712H389.12c-230.1952 0-276.48-105.6768-276.48-276.48v-245.76c0-186.7776 67.584-266.6496 233.8816-275.2512 16.384-0.8192 31.5392 11.8784 32.3584 29.0816 0.8192 17.2032-12.288 31.1296-29.0816 31.9488-116.3264 6.5536-175.7184 41.3696-175.7184 214.2208v245.76c0 151.552 29.9008 215.04 215.04 215.04h245.76c185.1392 0 215.04-63.488 215.04-215.04v-245.76c0-172.8512-59.392-207.6672-175.7184-214.2208a31.00672 31.00672 0 0 1-29.0816-32.3584c0.8192-16.7936 15.5648-29.9008 32.3584-29.0816 166.2976 9.0112 233.8816 88.8832 233.8816 275.2512v245.76c0 171.2128-46.2848 276.8896-276.48 276.8896z" fill="#515151" p-id="26106"></path></svg>

                              </template>
                              工单系统
                            </a-menu-item>

                          </NuxtLink>
                            <NuxtLink v-if="!token" data-toggle="pill" @click="login_dialog_click()" role="tab">
                                <a-menu-item key="0_9" class="nav_me">
                                    <template #icon>
                                      <a-avatar>
                                        <img
                                            alt="avatar"
                                            src="@/assets/images/peeps-avatar.png"
                                        />
                                      </a-avatar>
                                    </template>
                                    个人中心
                                </a-menu-item>
                            </NuxtLink>
                            <NuxtLink class="ml-2" v-else data-toggle="pill" to="/users/setting" role="tab">
                              <a-trigger show-arrow position="right">
                                <a-avatar  :size="36" class="cursor-pointer">
                                  <img
                                      alt="avatar"
                                      :src="user_info.avatar"
                                  />
                                </a-avatar>
                                <template #content>
                                  <div class="bg-white rounded-lg">
                                    <div class="nav-wraper">
                                      <div class="user-info-box">
                                        <div class="user-dis">
                                          <a-avatar :imageUrl="user_info.avatar" class="rounded-full w-10 h-10">
                                          </a-avatar>
                                          <span class="nickname flex-wrap ml-1">
                                            <a-space class="flex-wrap">
                                               <span>{{ user_info.name }}</span>
                                                <div
                                                    class="shrnik-0 px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip">
                                                    {{ vip_level }}
                                                </div>
                                            </a-space>
                                            </span>
                                        </div>
                                        <div class="use-info user-type"><span class="number">问答 </span>
                                          <div class="limit_information flex flex-col">
                                            <div class="limit_bag">
                                              <span>{{user_qs}}次</span>
                                              <a-tag class="ml-1" color="#165dff" size="small">次数包</a-tag>
                                            </div>
                                            <div class="day_bag">
                                              <span>{{ last_msg }}/{{total_msg}}次 </span>
                                              <a-tag class="ml-1" color="#165dff" size="small">{{ check_vip_type(vip_type) }}</a-tag>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="use-info user-type"><span class="number">绘画 </span>
                                          <div class="limit_information flex flex-col">
                                            <div class="limit_bag">
                                              <span>{{user_draw}}次</span>
                                              <a-tag class="ml-1" color="#165dff" size="small">次数包</a-tag>
                                            </div>
                                            <div class="day_bag">
                                              <span>{{ last_draw }}/{{ total_draw }}次 </span>
                                              <a-tag class="ml-1" color="#165dff" size="small">{{ check_vip_type(vip_type) }}</a-tag>
                                            </div>
                                          </div>

                                        </div>
                                        <div class="use-info"><span class="number">{{counter.setting.money_name_set}}</span><span>{{ user_info.money }}</span></div>
                                        <div class="refresh w-full">
                                          <a-button :loading="refresh_loading" type="primary" size="mini" class="w-full mb-2" @click="get_limit()">
                                            <template #icon>
                                              <icon-refresh />
                                            </template>
                                            刷新
                                          </a-button>
                                        </div>
                                        <div class="quit" @click="quit_out()">
                                          <div name="quit" class="i-svg quit-icon-blue">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                              <g id="Group 1000007605">
                                                <rect id="Rectangle 10" x="15.0001" y="9.41418" width="2" height="6"
                                                      rx="1" transform="rotate(-45 15.0001 9.41418)"
                                                      fill="#057cff"></rect>
                                                <rect id="Rectangle 11" x="19.2427" y="10.8284" width="2" height="6"
                                                      rx="1" transform="rotate(45 19.2427 10.8284)"
                                                      fill="#057cff"></rect>
                                                <rect id="Rectangle 12" x="19" y="11" width="2" height="11" rx="1"
                                                      transform="rotate(90 19 11)" fill="#057cff"></rect>
                                                <path id="Rectangle 11218"
                                                      d="M17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17"
                                                      stroke="#057cff" stroke-width="2"
                                                      stroke-linecap="round"></path>
                                              </g>
                                            </svg>
                                          </div>
                                          退出登录
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </template>
                              </a-trigger>

                            </NuxtLink>
                        </div>
                    </div>

                </div>

            </a-menu>

        </client-only>
      <Login :login_dialog="login_dialog"  @handleCancel="handleCancel"/>
      <UserNotice :user_notice="user_notice"  @handleCancelNotice="handleCancelNotice"/>

    </div>


</template>
<script lang="ts" setup>
import {ref} from "vue";
import {useCounter} from '~/store/counter'
import { Message } from '@arco-design/web-vue';


import {
    IconImage,
    IconSettings,
    IconRefresh
} from '@arco-design/web-vue/es/icon';
import UserNotice from "~/components/UserNotice.vue";

const router = useRouter();
const token = useCookie('token')

const counter = useCounter()
const colorMode = useColorMode()
const toggleChatSidebar = inject('toggleChatSidebar');

const login_dialog = ref(false)
const login_dialog_click = () => {
    login_dialog.value = true
}
const user_notice = ref(false)
const user_notice_click= () => {
    user_notice.value = true
}
const collapsed = ref(true);

const handleCancel = () => {
    login_dialog.value = false
}
const handleCancelNotice = () => {
  user_notice.value = false
  user_notice_get_is()
}
const navArray = ref([]);
const menu = ref([])
const get_config = async () => {
    get_nav_config().then((res: any) => {
        counter.setting = res._rawValue.data;
        navArray.value = res._rawValue.data.nav_portal_normal.split(',')
        colorMode.preference = res._rawValue.data.system_theme
        menu.value = res._rawValue.menu
    }).catch((err: any) => {
        Message.error(err);
    })
}
await get_config()

const arco_theme = useCookie('arco-theme')
if (process.client) {
    colorMode.preference = counter.setting.system_theme
    if (colorMode.preference == 'dark' ) {
        arco_theme.value = 'dark'
        colorMode.preference ='dark'
    } else if (colorMode.preference == 'light'){
        arco_theme.value = 'light'
        colorMode.preference ='light'
    }
    let html_class = document.getElementsByTagName('html')[0].getAttribute('class') as any
    html_class = html_class.replace('-mode', '')
    document.body.setAttribute('arco-theme', arco_theme.value?arco_theme.value:html_class)
}

watch(() => colorMode.preference, (theme) => {
    change_theme(theme)
})

const last_msg = ref(0)
const last_draw = ref(0)
const total_msg = ref(0)
const total_draw = ref(0)
const user_info = ref({})
const vip_level = ref(0)
const vip_type = ref(0)
const user_qs = ref(0)
const user_draw = ref(0)
const refresh_loading = ref(false)
const get_limit = () => {
  refresh_loading.value = true
  get_user_limit().then((res: any) => {
    last_msg.value = res._rawValue.last_msg
    last_draw.value = res._rawValue.last_draw
    total_msg.value = res._rawValue.total_msg
    total_draw.value = res._rawValue.total_draw
    user_info.value = res._rawValue.user_info
    vip_level.value = res._rawValue.vip_level
    vip_type.value = res._rawValue.vip_type
    user_qs.value = res._rawValue.user_qs
    user_draw.value = res._rawValue.user_draw
    refresh_loading.value = false
  }).catch((err: any) => {
    refresh_loading.value = false
    console.log(err)
  })
}
if (token.value){
  get_limit()
}

const check_vip_type = (type: string) => {
  if (type == 'free') {
    return '免费版'
  } else if (type == 'day') {
    return '每日'
  } else if (type == 'month') {
    return '每月'
  } else if (type == 'total') {
    return '有效期内'
  } else {
    return '免费版'
  }
}

const change_theme = (theme: string) => {
    colorMode.preference = theme
    document.body.setAttribute('arco-theme', theme)
    arco_theme.value = theme
}
const onCollapse = (val:any, type:any) => {
    const content = type === 'responsive' ? '触发响应式收缩' : '点击触发收缩';
    collapsed.value = val;
}
const is_notice = ref(0)
const user_notice_get_is = ()=>{
  user_notice_get().then((res: any) => {
    is_notice.value = res._rawValue.data
  }).catch((err: any) => {
    console.log(err)
  })
}
if (token.value){
  user_notice_get_is()
}
const quit_out = () => {
  token.value = ''
  router.go(0)
}
</script>
